---
title: C언어 포인터 이야기(기본)
keywords: C언어 포인터, pointer
last_updated: September 15, 2017
tags: [C언어]
summary: "C언어 포인터의 왕기초 개념을 잡습니다."
sidebar: c_language_sidebar
permalink: C언어-포인터자료형-기본.html
folder: c_language
---

## 포인터

### 개요
---
변수는 어디에 저장되는 것일까요? 변수는 대부분의 경우 메모리(흔히 말하는 램카드)에 저장이 됩니다. 메모리는 바이트 단위로 이루어져 있지요. 이렇게 저장된 변수마다 각자 위치를 알 수 있도록 주소값이 주어집니다. 주소를 표현시켜주는 연산자는 &입니다.  

```
#include <stdio.h>

int main() {

    int a = 10;

    printf("a의 주소값 : %x\n",&a); // 16진수로 표현

    return 0;
}
출력결과:
a의 주소값 : 557afb88
```

그리고 이 주소를 저장하는 자료형이 포인터입니다. 즉 포인터는 변수의 주소를 가지고 있는 변수라고 할 수 있습니다. 포인터는 각자 원하는 자료형의 종류에 *를 추가시키면 됩니다.  

- int * 변수명 => int 자료형의 주소를 저장하는 포인터
- float * 변수명 => float 자료형의 주소를 저장하는 포인터
- double * 변수명 => double 자료형의 주소를 저장하는 포인터
- char * 변수명 => char 자료형의 주소를 저장하는 포인터

이런 식으로 자료형에 *를 붙이고 변수명을 입력하면 됩니다.

```
#include <stdio.h>

int main() {

    int a = 10;
    int *ptr;

    ptr = &a; // 포인터 변수 ptr에 a의 주소값이 저장됨

    printf("a의 주소값 : %x\n",&a);
    printf("a의 주소값 : %x\n",ptr);

    return 0;
}
출력 결과:
a의 주소값 : 53ffab88
a의 주소값 : 53ffab88
```

참고로 변수 말고 상수를 포인터변수에 저장하면 그 상수 주소값에 있는 값이 포인터 변수에 저장됩니다. 즉 int * ptr = 10; 이라고 하면 주소 10을 가리키는 포인터변수 ptr이 되는 것입니다.

### 간접참조 연산자*
---
*는 간접참조 연산자라고 불립니다.  
포인터 변수 앞에 *를 붙이면 포인터 변수가 가리키는 주소의 값을 가져올 수 있습니다.  

```
#include <stdio.h>

int main() {

    int a = 10;
    int *ptr;

    ptr = &a;

    printf("a의 값 : %d\n",a);
    printf("a의 값 : %d\n",*ptr);

    return 0;
}
출력 결과:
10
10
```

### 포인터의 초기화
---
포인터는 반드시 초기화를 해주어야 합니다. 변수의 경우 초기화를 굳이 안해주어도 쓰레기 값이 프로그램 자체에 영향을 미치지는 못합니다. 하지만 포인터의 경우 쓰레기값이 어떤 주소를 가리킬지 모를 일입니다. 따라서 반드시 초기화를 진행해주어야합니다.  
초기화는 가리킬 변수로 진행해줍니다. 예를들어 위의 코드의 경우 ptr이 a를 가리킬 것이므로 아래와 같이 초기화해줍니다.  

```
#include <stdio.h>

int main() {

    int a = 10;
    int *ptr = &a;

    printf("a의 값 : %d\n",a);
    printf("a의 값 : %d\n",*ptr);

    return 0;
}
출력 결과:
10
10
```

또는 선언과 동시에 초기화할 마음이 없다면 NULL로 초기화합니다.  

```
int * ptr = NULL;
```

### 포인터의 연산
---
포인터는 증가, 감소, 덧셈, 뺄셈 연산이 가능합니다. 증가 연산의 경우 증가되는 값은 포인터가 가리키는 객체의 크기입니다. char형의 경우 포인터형 변수에 1을 더하면 1이 증가하고 int형 변수에 1을 더하면 4가 증가하고 이런 식입니다. 1을 더하는데 4가 증가되는 이유는 포인터에서는 선언된 값을 메모리에 참조값으로 사용하기 때문입니다.

```
#include <stdio.h>

int main()
{
    char a; // 1바이트 크기의 자료형
    short b; // 2바이트 크기의 자료형
    int c; // 4바이트 크기의 자료형
    double d; // 8바이트 크기의 자료형

    char *ptr1 = &a;
    short *ptr2 = &b;
    int *ptr3 = &c;
    double *ptr4 = &d;

    printf("%d %d %d %d\n",ptr1,ptr2,ptr3,ptr4);
    printf("%d %d %d %d\n",ptr1+1,ptr2+1,ptr3+1,ptr4+1);
}
출력 결과:
1424472975 1424472972 1424472968 1424472960
1424472976 1424472974 1424472972 1424472968
```

참조하는 자료형에 따라서 증가가 다르게 일어나는 것을 확인할 수 있습니다.